{% extends "account/base.html" %}

{% load i18n %}

{% block head_title %}{% trans "Signup" %}{% endblock %}

{% block content %}
<section class="section container signup">
  <div class="section-header">
    <h1>{% trans "Sign Up" %}</h1>
  </div>

  <div class="section-content">
      <p class="has-text-weight-semibold notification is-warning">You may already have an account if you've registered for any of the previous ISIC Archive challenges. <span>If so, try <a href="{% url 'account_reset_password' %}">resetting your password</a> instead.</span></p>

  <p>{% blocktrans %}Already have an account? Then please <a href="{{ login_url }}">sign in</a>.{% endblocktrans %}</p>

  <form class="signup" id="signup_form" method="post" action="{% url 'account_signup' %}">
    {% csrf_token %}

    {% if form.non_field_errors %}
    <div class="help is-danger">
      <i class="material-icons">error</i>
      {{ form.non_field_errors }}
    </div>
    {% endif %}

    <div class="columns is-multiline fields">

      <div class="column is-full field email">
        <p class="control has-icons-left">
          <input class="input{% if form.email.errors %} is-danger{% endif %}" id="id_email"
          name="email" placeholder="Email Address" required autofocus type="email" autocomplete="username" value="{{ request.POST.email }}">
          <span class="icon is-small is-left">
            <i class="material-icons">email</i>
          </span>
        </p>
        {% if form.email.errors %}
        <div class="help is-danger">
          {{ form.email.errors }}
        </div>
        {% endif %}
      </div>

      <hr class="column is-full">

      <div class="column is-half field first_name">
          <p class="control has-icons-left">
              <input class="input{% if form.first_name.errors %} is-danger{% endif %}" id="id_first_name"
                     name="first_name" maxlength="150" minlength="1" placeholder="First Name" required type="text" value="{{ request.POST.first_name }}">
              <span class="icon is-small is-left">
                  <i class="material-icons">person</i>
              </span>
          </p>
          {% if form.first_name.errors %}
          <div class="help is-danger">
              {{ form.first_name.errors }}
          </div>
          {% endif %}
      </div>

      <div class="column is-half field last_name">
          <p class="control has-icons-left">
              <input class="input{% if form.last_name.errors %} is-danger{% endif %}" id="id_last_name"
                     name="last_name" maxlength="150" minlength="1" placeholder="Last Name" required type="text" value="{{ request.POST.last_name }}">
              <span class="icon is-small is-left">
                  <i class="material-icons">person</i>
              </span>
          </p>
          {% if form.last_name.errors %}
          <div class="help is-danger">
              {{ form.last_name.errors }}
          </div>
          {% endif %}
      </div>

      <hr class="column is-full">

      <div class="column is-full field password">
        <p class="control has-icons-left">
          <input class="input{% if form.password1.errors %} is-danger{% endif %}" id="id_password1" name="password1" placeholder="Password" required type="password" autocomplete="new-password">
          <span class="icon is-small is-left">
            <i class="material-icons">lock</i>
          </span>
        </p>
        {% if form.password1.errors %}
        <div class="help is-danger">
          {{ form.password1.errors }}
        </div>
        {% endif %}
      </div>

      <div class="column is-full field confirmpassword">
        <p class="control has-icons-left">
          <input class="input{% if form.password2.errors %} is-danger{% endif %}" id="id_password2" name="password2" placeholder="Confirm Password" required type="password" autocomplete="new-password">
          <span class="icon is-small is-left">
            <i class="material-icons">lock</i>
          </span>
        </p>
        {% if form.password2.errors %}
        <div class="help is-danger">
          {{ form.password2.errors }}
        </div>
        {% endif %}
      </div>

    </div>

    {% if redirect_field_value %}
    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
    {% endif %}
    <button type="submit" class="button is-fullwidth">{% trans "Sign Up" %}</button>
  </form>
</section>
{% endblock %}
